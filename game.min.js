!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.assets=t.Melon=t._=t.$=void 0;var s=n(9),o=(i(s),n(10)),r=i(o),a=n(11),u=i(a),d={get $(){return window.Zepto},get _(){return window._},get me(){return window.me},get assets(){return window.me.game.assets},get config(){return window.me.$config}},l=d.me,c=r.default,f=d.assets,h=d.config;l.Events=l.event,t.default=d,t.$=c,t._=u.default,t.Melon=l,t.assets=f,t.config=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=i.Melon.input,o=s.KEY,r=s.GAMEPAD.AXES,a=s.GAMEPAD.BUTTONS;t.default={UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT",L1:"L1",R1:"R1",X:"X",Y:"Y",A:"A",B:"B",SELECT:"SELECT",START:"START",bind:function(){s.bindKey(o.LEFT,this.LEFT,!1,!0),s.bindKey(o.RIGHT,this.RIGHT,!1,!0),s.bindKey(o.UP,this.UP,!1,!0),s.bindKey(o.DOWN,this.DOWN,!1,!0),s.bindKey(o.Q,this.L1),s.bindKey(o.W,this.R1),s.bindKey(o.A,this.SELECT),s.bindKey(o.S,this.START),s.bindKey(o.X,this.X),s.bindKey(o.Z,this.Y),s.bindKey(o.SPACE,this.A),s.bindKey(o.B,this.B),s.bindGamepad(0,{type:"axes",code:r.LX,threshold:-.5},o.LEFT),s.bindGamepad(0,{type:"axes",code:r.LX,threshold:.5},o.RIGHT),s.bindGamepad(0,{type:"axes",code:r.LY,threshold:-.5},o.UP),s.bindGamepad(0,{type:"axes",code:r.LY,threshold:.5},o.DOWN),s.bindGamepad(0,{type:"axes",code:r.RX,threshold:-.5},o.LEFT),s.bindGamepad(0,{type:"axes",code:r.RX,threshold:.5},o.RIGHT),s.bindGamepad(0,{type:"axes",code:r.RY,threshold:-.5},o.UP),s.bindGamepad(0,{type:"axes",code:r.RY,threshold:.5},o.DOWN),s.bindGamepad(0,{type:"buttons",code:a.LEFT},o.LEFT),s.bindGamepad(0,{type:"buttons",code:a.RIGHT},o.RIGHT),s.bindGamepad(0,{type:"buttons",code:a.UP},o.UP),s.bindGamepad(0,{type:"buttons",code:a.DOWN},o.DOWN),s.bindGamepad(0,{type:"buttons",code:a.L1},o.Q),s.bindGamepad(0,{type:"buttons",code:a.R1},o.W),s.bindGamepad(0,{type:"buttons",code:a.SELECT},o.A),s.bindGamepad(0,{type:"buttons",code:a.START},o.S),s.bindGamepad(0,{type:"buttons",code:a.FACE_3},o.X),s.bindGamepad(0,{type:"buttons",code:a.FACE_4},o.Z),s.bindGamepad(0,{type:"buttons",code:a.FACE_1},o.SPACE),s.bindGamepad(0,{type:"buttons",code:a.FACE_2},o.B),this.bindTouchEvent(i.Melon.$game.element,"swipeUp",o.UP),this.bindTouchEvent(i.Melon.$game.element,"swipeRight",o.RIGHT),this.bindTouchEvent(i.Melon.$game.element,"swipeDown",o.DOWN),this.bindTouchEvent(i.Melon.$game.element,"swipeLeft",o.LEFT),this.bindTouchEvent(i.Melon.$game.element,"swipeLeft",o.LEFT),this.bindTouchEvent(i.Melon.$game.element,"tap",o.SPACE),this.bindTouchEvent(i.Melon.$game.element,"longTap",o.S)},bindTouchEvent:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=null;e.on(t,function(){s.triggerKeyEvent(n,!0),o&&clearTimeout(o),o=setTimeout(function(){s.triggerKeyEvent(n,!1)},i)})},isPressed:function(e){return s.isKeyPressed(e)},isUpPressed:function(){return this.isPressed(this.UP)},isDownPressed:function(){return this.isPressed(this.DOWN)},isLeftPressed:function(){return this.isPressed(this.LEFT)},isRightPressed:function(){return this.isPressed(this.RIGHT)},isAPressed:function(){return this.isPressed(this.A)},isBPressed:function(){return this.isPressed(this.B)},isXPressed:function(){return this.isPressed(this.X)},isYPressed:function(){return this.isPressed(this.Y)},isSelectPressed:function(){return this.isPressed(this.SELECT)},isStartPressed:function(){return this.isPressed(this.START)},isL1Pressed:function(){return this.isPressed(this.L1)},isR1Pressed:function(){return this.isPressed(this.R1)},getPressed:function(){return this.isLeftPressed()?this.LEFT:this.isRightPressed()?this.RIGHT:this.isUpPressed()?this.UP:this.isDownPressed()?this.DOWN:this.isAPressed()?this.A:this.isBPressed()?this.B:this.isXPressed()?this.X:this.isYPressed()?this.Y:this.isSelectPressed()?this.SELECT:this.isStartPressed()?this.START:this.isL1Pressed()?this.L1:!!this.isR1Pressed()&&this.R1},isDirectionButtonPressed:function(){var e=this.getPressed();return e===this.LEFT||e===this.RIGHT||e===this.UP||e===this.DOWN},getPressedAxis:function(e){return e=e||this.getPressed(),e===this.LEFT||e===this.RIGHT?"x":(e===this.UP||e===this.DOWN)&&"y"},getPressedOppositeAxis:function(e){return!1!==e&&("x"===e?"y":"x")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default={channels:{BGM:!1,SFX_1:!1,SFX_2:!1},playMusic:function(e,t){if(!i.config.sound.enabled)return!1;this.channels.BGM=e,i.Melon.audio.playTrack(e,isNaN(t)?i.config.sound.volume.music/100:t)},playEffect:function(e,t,n){var s=this;return!!i.config.sound.enabled&&(n=n||"SFX_1",!1===this.channels[n]&&(this.channels[n]=e,void i.Melon.audio.play(e,!1,function(){s.channels[n]=!1},isNaN(t)?i.config.sound.volume.effects/100:t)))}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=n(15),a=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(){function e(){i(this,e)}return s(e,null,[{key:"fps",get:function(){return o.Melon.sys.fps}},{key:"distancePerMove",get:function(){return void 0===o.config.player.distance_per_move&&(o.config.player.distance_per_move=o.config.video.tile_size),o.config.player.distance_per_move}},{key:"velocity",get:function(){if(void 0===o.config.player.velocity){var e=a.default.velocity(o.config.video.tile_size,this.fps);e=(e<=.5?1:Math.round(e))*o.config.player.speed,o.config.player.velocity=2*Math.ceil(e/2)}return o.config.player.velocity}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n(16),r=i(o),a=n(3),u=i(a);t.default={get enabled(){return!0===s.config.debug},disable:function(){s.config.debug=!1},enable:function(){s.config.debug=!0},get element(){return(0,s.$)("#debug")},init:function(){var e=this;s.config.debug=!0===s.config.debug&&!s._.isEmpty(window.location.hash)&&!!window.location.hash.toLowerCase().match(/debug/gi),this.enabled&&this.debugUpdate("-","-",0,0),r.default.subscribe(r.default.LEVEL_LOADED,function(){e.enabled?e.show():e.hide()})},hide:function(){this.element.hide(),s.Melon.game.world.children.forEach(function(e,t){e.name.match(/debug/gi)&&(s.Melon.game.world.children[t].alpha=0)})},show:function(){this.element.show(),s.Melon.game.world.children.forEach(function(e,t){e.name.match(/debug/gi)&&(s.Melon.game.world.children[t].alpha=1)})},format:function(e){var t='<table class="debug-table">\n';return s._.forOwn(e,function(e,n){var i="debug_"+n.replace(/\s/g,"_").toLowerCase();t+="<tr><td><b>"+n+':</b></td><td id="'+i+'">'+e+"</td></tr>\n"}),t+"</table>"},debug:function(e){this.enabled&&(s._.isString(e)&&(e={data:e}),this.element.html(this.format(e)))},debugUpdate:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.enabled&&this.debug({FPS:u.default.fps,"Delta Time":t,"Velocity (pixels per frame)":u.default.velocity,"Distance (pixels per move)":u.default.distancePerMove,"Distance (current move)":n,"Velocity (current move)":isNaN(i)?0:i,"Last Collision":"-",Direction:e})},debugCollision:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#debug_last_collision";if(this.enabled){var n=(0,s.$)(t);if(n.length){var i=e.b.name||"default";n.html(""+i)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(s),r=i.Melon.Renderable.extend({init:function(e,t,n){this._super(i.Melon.Renderable,"init",[e.x,e.y,t,n]),this.invalidate=!1,this.barHeight=4,this.progress=0,this.padding=5},onProgressUpdate:function(e){this.progress=~~(e*(this.width-2*this.padding)),this.invalidate=!0},update:function(){return!0===this.invalidate&&(this.invalidate=!1,!0)},draw:function(e){e.setColor("#64F865"),e.fillRect(this.padding,this.height/2-this.barHeight/2,this.progress,this.barHeight),e.setColor("white")}});t.default=i.Melon.ScreenObject.extend({ProgressBar:r,onResetEvent:function(){i.Melon.game.world.addChild(new i.Melon.ColorLayer("background","#000000",0),0);var e=new this.ProgressBar(new i.Melon.Vector2d,i.Melon.video.renderer.getWidth(),i.Melon.video.renderer.getHeight());this.loaderHdlr=i.Melon.Events.subscribe(i.Melon.Events.LOADER_PROGRESS,e.onProgressUpdate.bind(e)),this.resizeHdlr=i.Melon.Events.subscribe(i.Melon.Events.VIEWPORT_ONRESIZE,e.resize.bind(e)),i.Melon.game.world.addChild(e,1),this.iconCanvas=i.Melon.video.createCanvas(o.default.width,o.default.height,!1)},onDestroyEvent:function(){i.Melon.Events.unsubscribe(this.loaderHdlr),i.Melon.Events.unsubscribe(this.resizeHdlr),this.loaderHdlr=this.resizeHdlr=null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default={init:function(){"GBC_2x"===i.config.video.resolution&&1===this.scale&&document.body.classList.add("default-resolution"),!isNaN(this.scale)&&this.pixelRatio>1&&(document.getElementById(i.config.wrapper).style.zoom=this.pixelRatio)},get preset(){return i.config.video.resolutions[i.config.video.resolution]},get defaultWidth(){return this.preset.width},get defaultHeight(){return this.preset.height},get width(){return i.Melon.game.viewport.width},get height(){return i.Melon.game.viewport.height},get scale(){return i.config.video.scale},get pixelRatio(){return window.devicePixelRatio?window.devicePixelRatio:1}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=n(8),o=i(s);new(i(n(24)).default)(o.default).loadOnReady()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=n(12),u=i(a),d=n(21),l=i(d),c=function(){function e(t){s(this,e),this.initialConfig=r._.cloneDeep(t),this.config=t,this.element=(0,r.$)("#"+this.config.wrapper),r._.forOwn(u.default,function(e,t){r.Melon.pool.register(t.toLowerCase(),e)})}return o(e,[{key:"start",value:function(){r.Melon.state.set(r.Melon.state.READY,new l.default.TitleScreen),r.Melon.state.set(r.Melon.state.PLAY,new l.default[this.config.initial_scene]),r.Melon.state.change(r.Melon.state.PLAY)}}]),e}();t.default=c},function(e,t){e.exports=window.me},function(e,t){e.exports=window.Zepto},function(e,t){e.exports=window._},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Warp=t.Tree=t.Text=t.Shore=t.Player=void 0;var s=n(13),o=i(s),r=n(17),a=i(r),u=n(18),d=i(u),l=n(19),c=i(l),f=n(20),h=i(f);t.default={Player:o.default,Shore:a.default,Text:d.default,Tree:c.default,Warp:h.default},t.Player=o.default,t.Shore=a.default,t.Text=d.default,t.Tree=c.default,t.Warp=h.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),s=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(0);t.default=s.default.extend({initProperties:function(){this._super(s.default,"initProperties"),this.defaultSettings.anchorPoint=new o.Melon.Vector2d(.5,.25),this.defaultSettings.collisionType="PLAYER_OBJECT",this.animations.debug.frames=[[0,1e3],[11,1e3]],this.animations.walk_up.frames=[9,8,10,8],this.animations.walk_right.frames=[2,1],this.animations.walk_down.frames=[6,5,7,5],this.animations.walk_left.frames=[4,3],this.animations.stand_up.frames=[8],this.animations.stand_right.frames=[1],this.animations.stand_down.frames=[5],this.animations.stand_left.frames=[3],o.Melon.$game.player=this}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n(1),r=i(o),a=n(2),u=i(a),d=n(3),l=i(d),c=n(4),f=i(c),h=function(e){if(1===e.length)return e;var t=[];return e.forEach(function(e){e.name?t.push(e):s._.isArray(e)&&e.length>=2?t.push({name:e[0],delay:e[1]}):t.push({name:e,delay:l.default.fps+l.default.fps/l.default.velocity})}),t},b=s.Melon.Entity.extend({initProperties:function(){this.defaultSettings={anchorPoint:new s.Melon.Vector2d(0,0)},this.remainingPixels=0,this.lastPressedButton=null,this.animations={debug:{frames:[0]},walk_up:{frames:[]},walk_right:{frames:[]},walk_down:{frames:[]},walk_left:{frames:[]},stand_up:{frames:[]},stand_right:{frames:[]},stand_down:{frames:[]},stand_left:{frames:[]}},this.initialAnimation="stand_down"},init:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.initProperties(),i=s._.extend(this.defaultSettings,i),this._super(s.Melon.Entity,"init",[e,t,i]),s._.forOwn(this.animations,function(e,t){0!==e.frames.length&&n.renderable.addAnimation(t,h(e.frames))}),this.renderable.setCurrentAnimation(this.initialAnimation),this.body.vel.set(0,0),this.body.maxVel.set(l.default.velocity,l.default.velocity),this.body.accel.set(0,0),this.body.friction.set(0,0),this.body.gravity=0,this.body.jumping=!1,this.body.falling=!1,this.anchorPoint.set(i.anchorPoint.x,i.anchorPoint.y),this.alwaysUpdate=!0,s.Melon.game.viewport.follow(this.pos,s.Melon.game.viewport.AXIS.BOTH)},update:function(e){var t=this;this.isMoving()||(this.body.vel.x=0,this.body.vel.y=0,this.lastPressedButton&&(this.renderable.setCurrentAnimation("stand_"+this.lastPressedButton.toLowerCase()),f.default.enabled&&(this.debugTimeout&&clearTimeout(this.debugTimeout),this.debugTimeout=setTimeout(function(){t.renderable.setCurrentAnimation("debug")},1e3))),this.lastPressedButton=null);var n=this.getMoveDirection();if(!n&&!this.isMoving())return f.default.debugUpdate("-",e,0,0),this._super(s.Melon.Entity,"update",[e]);n&&!this.lastPressedButton&&(this.lastPressedButton=n),n&&!this.isMoving()&&(this.remainingPixels=l.default.distancePerMove);var i=0;return n&&0!==(i=this.getVelocity())&&this.move(n,i),f.default.debugUpdate(n,e,this.remainingPixels,i),this.body.update(e),s.Melon.collision.check(this),this._super(s.Melon.Entity,"update",[e])||this.hasVelocity()},move:function(e,t){if(!e||isNaN(t))return!1;var n=r.default.getPressedAxis(e);if(!n)return!1;var i=r.default.getPressedOppositeAxis(n);return this.body.vel[i]=0,e===r.default.LEFT||e===r.default.UP?this.body.vel[n]-=t:this.body.vel[n]+=t,this.renderable.isCurrentAnimation("walk_"+e.toLowerCase())||this.renderable.setCurrentAnimation("walk_"+e.toLowerCase()),this.hasVelocity()},getVelocity:function(){if(this.remainingPixels>=l.default.velocity)return this.remainingPixels-=l.default.velocity,l.default.velocity;if(0!==this.remainingPixels&&this.remainingPixels<l.default.velocity){var e=this.remainingPixels;return this.remainingPixels=0,e}return 0},isMoving:function(){return this.remainingPixels>0},hasVelocity:function(){return 0!==this.body.vel.x||0!==this.body.vel.y},getMoveDirection:function(){if(this.isMoving()&&this.lastPressedButton)return this.lastPressedButton;var e=r.default.getPressed();return!(!e||!1===r.default.getPressedAxis(e))&&e},onCollision:function(e,t){if(0===e.overlap)return!1;e.a.body.gravity=0,e.b.body.accel.set(0,0),e.a.body.friction.set(0,0),e.a.body.jumping=!1,e.a.body.falling=!1,e.b.body.gravity=0,e.b.body.accel.set(0,0),e.b.body.friction.set(0,0),e.b.body.jumping=!1,e.b.body.falling=!1,t.body.gravity=0,t.body.accel.set(0,0),t.body.friction.set(0,0),t.body.jumping=!1,t.body.falling=!1,u.default.playEffect(s.assets.audios.collide),f.default.debugCollision(e)}});t.default=b},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return s(e,null,[{key:"time",value:function(e,t){return e/t}},{key:"distance",value:function(e,t){return e*t}},{key:"acceleration",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.velocity(e,t,n)/t}},{key:"velocity",value:function(e,t){return e/t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=i.Melon.event;t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=i.Melon.Entity.extend({init:function(e,t,n){this._super(i.Melon.Entity,"init",[e,t,n])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=i.Melon.Entity.extend({init:function(e,t,n){this._super(i.Melon.Entity,"init",[e,t,n])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=i.Melon.Entity.extend({init:function(e,t,n){this._super(i.Melon.Entity,"init",[e,t,n])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=i.Melon.Entity.extend({init:function(e,t,n){this._super(i.Melon.Entity,"init",[e,t,n])}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TitleScreen=t.S01_NewBarkTown=t.LoadingScreen=void 0;var s=n(5),o=i(s),r=n(22),a=i(r),u=n(23),d=i(u);t.default={LoadingScreen:o.default,S01_NewBarkTown:a.default,TitleScreen:d.default},t.LoadingScreen=o.default,t.S01_NewBarkTown=a.default,t.TitleScreen=d.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=i.Melon.ScreenObject.extend({onResetEvent:function(){i.Melon.levelDirector.loadLevel(i.assets.maps.S01_NewBarkTown),o.default.playMusic(i.assets.audios.S01_NewBarkTown)},onDestroyEvent:function(){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.default=i.Melon.ScreenObject.extend({onResetEvent:function(){},onDestroyEvent:function(){}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=n(6),u=i(a),d=n(1),l=i(d),c=n(4),f=i(c),h=n(5),b=i(h),p=n(25),g=i(p),v=function(){function e(t){if(s(this,e),void 0===window)throw new Error("The environment is not compatible. The window object is undefined.");this.game=r.Melon.$game=new t(r.config),r.Melon.sys.fps=r.config.video.fps,r.Melon.sys.gravity=0,r.Melon.Body=g.default,r.Melon.DefaultLoadingScreen=b.default}return o(e,[{key:"load",value:function(){if(u.default.init(),f.default.init(),!r.Melon.video.init(u.default.defaultWidth,u.default.defaultHeight,{wrapper:r.config.wrapper,scale:u.default.scale,renderer:r.Melon.video[r.config.video.renderer],antiAlias:!1}))return void alert("Your browser does not support the HTML5 "+r.config.video.renderer+" renderer.");r.Melon.audio.init("mp3,ogg"),l.default.bind(),r.Melon.loader.preload(r.assets._files,this.game.start.bind(this.game))}},{key:"loadOnReady",value:function(){var e=this;window.onReady(function(){e.load()})}}]),e}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=i.Melon.Body.extend({respondToCollision:function(e){var t=e.overlapV;this.entity.pos.sub(t),0!==t.x&&(this.vel.x=0),0!==t.y&&(this.vel.y=0),this.falling=!1,this.jumping=!1}});t.default=s}]);